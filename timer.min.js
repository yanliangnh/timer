!function(t){var e=function(){this.Init.apply(this,arguments),this.settime,this.Render()};e.prototype={Init:function(){var t=Array.prototype.slice.call(arguments,0);if(t&&t.length>0){var e=t[0],n=Object.prototype.toString;e&&"[object Object]"==n.call(e)&&(this.config=e||{id:"",server:0,endtime:"",show:function(t,e,n,a,i,o){},over:function(t,e,n,a,i,o){}})}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,a=function(){},i=function(){return n.apply(this instanceof a&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return a.prototype=this.prototype,i.prototype=new a,i})},Render:function(){var t=this,e=null,n=t.config,a=n.id,i=t.config.server;if(n){var o=document.getElementById(a),r=new Date(n.endtime).getTime();if(t.autoElement=o,i.toString()){var s=["http://www.zhongye.net/api/apiservice.aspx?method=Web.GetCurrTime&format=json","http://www.zhongye.net/api/apiservice.aspx?method=Web.GetCurrTimeObj&format=json"],c=null;switch(i){case 1:c=s[0];break;case 2:c=s[1]}if(1===i||2===i)t.util.get_js(c,function(n){if(1===i){var a=n;e=a.time}else if(2===i){var s=n.toString().replace(/\r\n/g," "),c=s.replace(/t0=new\sDate\(\)\.getTime\(\);\snyear=(\d*);\snmonth\=(\d*);\snday=(\d*);\snwday=(\d*);\snhrs=(\d*);\snmin=(\d*);\snsec=(\d*);/gi,"$1/$2/$3 $5:$6:$7");e=c}var l=new Date(e).getTime(),p=(new Date).getTime()-l;t.util.show_time(r,p,o,i,t.test.bind(t),l)});else if(0===i){var l=null;t.util.show_time(r,l,o,i,t.test.bind(t))}}}},test:function(t,e,n,a,i,o){a<0||0==a&&n<0?this.config.over(this.autoElement,t,e,n,a,i,o):(t=t<=9?"0"+t:t,e=e<=9?"0"+e:e,n=n<=9?"0"+n:n,a=a<=9?"0"+a:a,this.config.show(this.autoElement,t,e,n,a,i,o))},util:{show_time:function(t,e,n,a,i,o){var r,s,c,l,p,u,d=this,f=(new Date).getTime(),h=0===a?parseInt((t-f)/1e3):parseInt((t-f+e)/1e3);r=parseInt(h/3600/24),s=parseInt(h/3600%24),c=parseInt(h/60%60),l=parseInt(h%60),p=(new Date).getMilliseconds(),i.call(d,r,s,c,l,p,d.formatDate(o)),u=l<0||0==l&&c<0,d.settime=setTimeout(arguments.callee.bind(d,t,e,n,a,i,d.formatDate(o)),50),1==u&&clearTimeout(d.settime)},formatDate:function(t){var e=new Date(t).getFullYear(),n=new Date(t).getMonth()+1,a=new Date(t).getDate(),i=new Date(t).getHours(),o=new Date(t).getMinutes(),r=new Date(t).getSeconds();return e+"/"+n+"/"+a+" "+i+":"+o+":"+r},get_js:function(t,e){var n=null,a=document.getElementsByTagName("head")[0];n=document.createElement("script"),n.type="text/javascript",n.src=t;var i=navigator.appName,o=navigator.appVersion,r=o.split(";"),s=r[1]?r[1].replace(/[ ]/g,""):null;"Microsoft Internet Explorer"==i&&"MSIE6.0"==s||"Microsoft Internet Explorer"==i&&"MSIE7.0"==s||"Microsoft Internet Explorer"==i&&"MSIE8.0"==s||"Microsoft Internet Explorer"==i&&"MSIE9.0"==s?("function"==typeof e&&(n.onreadystatechange=function(){var t=n.readyState;"loaded"!==t&&"complete"!==t||(e.call(callback_x,callback_x),n.onreadystatechange=null)}),a.insertBefore(n)):(a.insertBefore(n,a.firstChild),n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||e.call(callback_x,callback_x),n.onload=n.onreadystatechange=null})}}},t.Timer=function(t){return new e(t)}}(window);